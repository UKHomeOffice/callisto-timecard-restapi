
CREATE SCHEMA IF NOT EXISTS timecard;

CREATE TABLE IF NOT EXISTS timecard.time_period_type (
    id VARCHAR(36)  PRIMARY KEY,
    tenant_id VARCHAR(36) NOT NULL,
    name VARCHAR(50) NOT NULL
);

INSERT INTO timecard.time_period_type (id,tenant_id,"name") VALUES
	 ('00000000-0000-0000-0000-000000000001','00000000-0000-0000-0000-000000000000','Shift'),
	 ('00000000-0000-0000-0000-000000000002','00000000-0000-0000-0000-000000000000','Scheduled rest day'),
	 ('00000000-0000-0000-0000-000000000003','00000000-0000-0000-0000-000000000000','Non-working day'),
	 ('00000000-0000-0000-0000-000000000004','00000000-0000-0000-0000-000000000000','On call'),
	 ('00000000-0000-0000-0000-000000000005','00000000-0000-0000-0000-000000000000','Absence'),
	 ('00000000-0000-0000-0000-000000000006','00000000-0000-0000-0000-000000000000','Training'),
	 ('00000000-0000-0000-0000-000000000007','00000000-0000-0000-0000-000000000000','Overtime');

CREATE TABLE IF NOT EXISTS timecard.time_entry (
    id VARCHAR(36)  PRIMARY KEY,
    tenant_id VARCHAR(36) NOT NULL,
    owner_id INT NOT null,
    time_period_type_id VARCHAR(36) NOT NULL,
    shift_type VARCHAR(50) DEFAULT NULL,
    actual_start_time TIMESTAMP NOT NULL,
    actual_end_time TIMESTAMP DEFAULT NULL,
    created_at TIMESTAMP NOT NULL,
    updated_at TIMESTAMP NOT NULL,
    FOREIGN KEY (time_period_type_id) REFERENCES timecard.time_period_type (id)
);